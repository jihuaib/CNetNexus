<?xml version="1.0" encoding="UTF-8"?>
<configuration module-id="5">
    <!-- View definitions -->
    <views>
        <view view-id="4" view-name="bgp">
            <template>&lt;NetNexus(config-bgp-%u)&gt;</template>
        </view>
    </views>

    <!-- Command group definitions -->
    <command_groups>
        <!-- Configuration command group -->
        <group group-id="1">
            <elements>
                <element cfg-id="1" type="keyword">
                    <name>no</name>
                    <description>Delete</description>
                </element>
                <element type="keyword">
                    <name>bgp</name>
                    <description>BGP protocol</description>
                </element>
                <element cfg-id="2" type="parameter">
                    <name>&lt;as-number&gt;</name>
                    <type>uint(1-4294967295)</type>
                    <description>BGP as-number</description>
                </element>
            </elements>
            
            <commands>
                <command>
                    <expression>2 3</expression>
                    <views>3</views>
                    <view-id>4</view-id>
                </command>
                <command>
                    <expression>1 2 [ 3 ]</expression>
                    <views>3</views>
                </command>
            </commands>
        </group>

        <group group-id="2">
            <elements>
                <element type="keyword">
                    <name>show</name>
                    <description>Display system information</description>
                </element>
                <element type="keyword">
                    <name>bgp</name>
                    <description>BGP protocol</description>
                </element>
                <element cfg-id="1" type="keyword">
                    <name>peer</name>
                    <description>BGP peer</description>
                </element>
            </elements>
            
            <commands>
                <command>
                    <expression>1 2 [ 3 ]</expression>
                    <views>1</views>
                </command>
            </commands>
        </group>
    </command_groups>

    <config_templates>
        <!-- 主配置模板 -->
        <template-def template-name="bgp_template" priority="10" >
            <template-def template-name="bgp_af_ipv4_uni_template"/>
            <template-def template-name="bgp_af_ipv6_uni_template"/>
        </template-def>

        <!-- BGP 视图内的子模板 -->
        <template template-name="bgp_template" db="bgp_db.bgp_protocol">
 #
 bgp {bgp_protocol.as_number}
 #
        </template>

        <template template-name="bgp_af_ipv4_uni_template" db="bgp_db.bgp_peer">
af ipv4-unicast
        </template>
    </config_templates>

    <dbs>
        <db db-name="bgp_db">
            <tables>
                <table table-name="bgp_protocol">
                    <fields>
                        <field field-name="as_number" type="uint(1-4294967295)"/>
                    </fields>
                </table>
            </tables>
        </db>
    </dbs>
</configuration>
